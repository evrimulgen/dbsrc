CREATE USER "OUTLN" IDENTIFIED BY VALUES 'S:FACF3330B7CBB252BBBEACFFFAF87827F767D2E9D735E8E4B0010D16E372;H:9CF2B6DC066956BA17A392C7A439BC77;T:D66ABCF54F7AFBA16D2554D031AE180B03B638E308E9FB2994276B2CD89FA05D6819BD3DBE43ACF4FBA29DD061760DD17806D5DA34F7AC9206981899048DD070AC44524A1C792C9AA8001F07917D6082;4A3BA55E08595C81'
      TEMPORARY TABLESPACE "TEMP"
      PASSWORD EXPIRE
      ACCOUNT LOCK;

ALTER USER "OUTLN" DEFAULT ROLE ALL;
CREATE TABLE "OUTLN"."OL$"
   (	"OL_NAME" VARCHAR2(128),
	"SQL_TEXT" LONG,
	"TEXTLEN" NUMBER,
	"SIGNATURE" RAW(16),
	"HASH_VALUE" NUMBER,
	"HASH_VALUE2" NUMBER,
	"CATEGORY" VARCHAR2(128),
	"VERSION" VARCHAR2(64),
	"CREATOR" VARCHAR2(128),
	"TIMESTAMP" DATE,
	"FLAGS" NUMBER,
	"HINTCOUNT" NUMBER,
	"SPARE1" NUMBER,
	"SPARE2" VARCHAR2(1000)
   ) ;

CREATE TABLE "OUTLN"."OL$NODES"
   (	"OL_NAME" VARCHAR2(128),
	"CATEGORY" VARCHAR2(128),
	"NODE_ID" NUMBER,
	"PARENT_ID" NUMBER,
	"NODE_TYPE" NUMBER,
	"NODE_TEXTLEN" NUMBER,
	"NODE_TEXTOFF" NUMBER,
	"NODE_NAME" VARCHAR2(64)
   ) ;

CREATE TABLE "OUTLN"."OL$HINTS"
   (	"OL_NAME" VARCHAR2(128),
	"HINT#" NUMBER,
	"CATEGORY" VARCHAR2(128),
	"HINT_TYPE" NUMBER,
	"HINT_TEXT" VARCHAR2(512),
	"STAGE#" NUMBER,
	"NODE#" NUMBER,
	"TABLE_NAME" VARCHAR2(128),
	"TABLE_TIN" NUMBER,
	"TABLE_POS" NUMBER,
	"REF_ID" NUMBER,
	"USER_TABLE_NAME" VARCHAR2(260),
	"COST" FLOAT(126),
	"CARDINALITY" FLOAT(126),
	"BYTES" FLOAT(126),
	"HINT_TEXTOFF" NUMBER,
	"HINT_TEXTLEN" NUMBER,
	"JOIN_PRED" VARCHAR2(2000),
	"SPARE1" NUMBER,
	"SPARE2" NUMBER,
	"HINT_STRING" CLOB
   ) ;

CREATE OR REPLACE NONEDITIONABLE PROCEDURE "OUTLN"."ORA$GRANT_SYS_SELECT" as
begin
  EXECUTE IMMEDIATE 'GRANT SELECT ON OUTLN.OL$ TO SELECT_CATALOG_ROLE';
  EXECUTE IMMEDIATE 'GRANT SELECT ON OUTLN.OL$HINTS TO SELECT_CATALOG_ROLE';
  EXECUTE IMMEDIATE 'GRANT SELECT ON OUTLN.OL$NODES TO SELECT_CATALOG_ROLE';
  EXECUTE IMMEDIATE 'GRANT SELECT ON OUTLN.OL$ TO SYS WITH GRANT OPTION';
  EXECUTE IMMEDIATE 'GRANT SELECT ON OUTLN.OL$HINTS TO SYS WITH GRANT OPTION';
  EXECUTE IMMEDIATE 'GRANT SELECT ON OUTLN.OL$NODES TO SYS WITH GRANT OPTION';
end;
/


ALTER PROCEDURE "OUTLN"."ORA$GRANT_SYS_SELECT"
  COMPILE
    PLSQL_OPTIMIZE_LEVEL=  2
    PLSQL_CODE_TYPE=  INTERPRETED
    PLSQL_DEBUG=  FALSE    PLSCOPE_SETTINGS=  'IDENTIFIERS:NONE'

 REUSE SETTINGS TIMESTAMP '2014-07-07 05:43:16'
/

CREATE UNIQUE INDEX "OUTLN"."OL$NAME" ON "OUTLN"."OL$" ("OL_NAME")
  ;

CREATE UNIQUE INDEX "OUTLN"."OL$SIGNATURE" ON "OUTLN"."OL$" ("SIGNATURE", "CATEGORY")
  ;

CREATE UNIQUE INDEX "OUTLN"."OL$HNT_NUM" ON "OUTLN"."OL$HINTS" ("OL_NAME", "HINT#")
  ;

CREATE INDEX "OUTLN"."OL$NODE_OL_NAME" ON "OUTLN"."OL$NODES" ("OL_NAME")
  ;

